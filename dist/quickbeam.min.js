var Quickbeam=function(){function t(t,e){var n=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.src=t,a.onreadystatechange=e,a.onload=e,n.appendChild(a)}function e(e){function n(){var t;[].forEach.call(document.querySelectorAll(".quickbeam-variant"),function(e){e.checked&&(f=parseInt(e.getAttribute("quickbeam-value")),t=e.getAttribute("value"))});var e=document.querySelector("#quick-cart-product-"+f)||!1;if(w&&T&&0==e){var n=a({id:f,price:b,image:y,size:t,color:S});w.insertBefore(n,w.firstChild),r(n,1e3)}}function a(t){var e='<div class="quick-cart-product-wrap"><img src="'+t.image+'"><span class=" s1" style="background-color: '+t.color+'; opacity: .5">'+t.price.trim()+'</span><span class=" s2">'+t.size.trim()+'</span></div><span class="count hide fadeUp" id="quick-cart-product-count-'+t.id+'">0</span><span class="quick-cart-product-remove remove" data-id="'+t.id+'"></span><span class="quick-cart-product-removeall removeall" data-id="'+t.id+'"></span>',n=document.createElement("div");return n.addClass("quick-cart-product quick-cart-product-static"),n.setAttribute("id","quick-cart-product-"+t.id),n.style.opacity=0,n.innerHTML=e,n}function r(t,e){e="undefined"!=typeof e?e:0,window.setTimeout(function(){t.style.opacity=1},e)}function i(t){var e=t.time,n=+new Date+e,a=function(){var r=+new Date,i=n-r;if(60>i)return void t.run(1);var o=1-i/e;t.run(o),requestAnimationFrame(a)};a()}function o(){var t=s(),n=c(t);if("gsap"===e.animationLib){t.style.position="absolute",t.addClass("run");var a=document.getElementById("quick-cart-product-count-"+f);a&&(a.classList.remove("fadeUp"),a.classList.add("fadeDown")),TweenMax.to(t,1,{bezier:{type:"soft",values:n.through},ease:Power1.easeInOut}),setTimeout(function(){t.style.opacity=0,document.body.removeChild(t),setTimeout(function(){u()},100)},1e3)}else{var r=function(t,e){if(!t)var t=0;if(!e)var e=0;return{x:t,y:e}},o=function(t,e,n,a,r){var i=3*(n.x-e.x),o=3*(a.x-n.x)-i,s=r.x-e.x-i-o,c=3*(n.y-e.y),u=3*(a.y-n.y)-c,d=r.y-e.y-c-u,l=s*Math.pow(t,3)+o*Math.pow(t,2)+i*t+e.x,p=d*Math.pow(t,3)+u*Math.pow(t,2)+c*t+e.y;return{x:l,y:p}},d=r(n.start.x,n.start.y),l=r(n.start.x-300,n["final"].y),p=r(n.start.x+500,n.start.y+500),m=r(n["final"].x,n["final"].y);t.style.position="absolute",t.addClass("run"),i({time:1e3,run:function(e){1==e&&setTimeout(function(){t.style.opacity=0,document.body.removeChild(t),setTimeout(function(){u()},1e3)},500);var n=o(e,d,l,p,m),a="translate("+Math.round(n.x)+"px,"+Math.round(n.y)+"px)";t.style.webkitTransform=a,t.style.transform=a}})}}function s(t){var n=T.offsetWidth-2,a=Math.round(1.33*parseInt(T.offsetWidth-2)),r=T.getBoundingClientRect(),i='<div style="width:'+n+"px; height:"+a+'px;"><img src="'+y+'"><span class="s1" style="background-color: '+S+'; opacity: .5; transition: 1000ms"></span><span class="s2"></span></div>',o=document.createElement("div");if(o.addClass("quick-cart-product quick-cart-animated-product animated"),o.setAttribute("id","quick-cart-product-animated"),"gsap"===e.animationLib){var s="translate("+r.left+"px,"+r.top+"px)";o.style.webkitTransform=s,o.style.transform=s}return o.innerHTML=i,document.body.appendChild(o),o}function c(t){var e=t.querySelector("div"),n=T.getBoundingClientRect(),a=document.querySelector("#quick-cart-product-"+f).getBoundingClientRect(),r=a.top,i=document.documentElement,o=((window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),(window.pageYOffset||i.scrollTop)-(i.clientTop||0)),s=parseInt(n.left)-1.4*parseInt(e.style.width),c=r+o-parseInt(e.style.height)/3;return{start:{x:n.left,y:n.top},through:[{x:s,y:c},{x:a.left,y:r+o}],"final":{x:a.left,y:r+o}}}function u(){var t=document.getElementById("quick-cart-product-"+f),e=document.getElementById("quick-cart-product-count-"+f),n=parseInt(e.innerText),a=document.getElementById("quick-cart-pay-total-count"),r=parseInt(a.innerText);n+=h,e.innerText=n,n>1&&e.removeClass("hide"),r+=h,a.innerText=r;var i=document.getElementById("quick-cart-product-count-"+f);i.classList.remove("fadeDown"),i.classList.add("fadeUp"),0>h&&(h=1),t&&(t.removeClass("show-remove-all"),q=0);var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&l()},o.open("POST","/cart/add.js",!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify({quantity:h,id:f}))}function d(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&l()},e.open("POST","/cart/change.js",!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify(t))}function l(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText);k.innerText=Shopify.formatMoney(e.total_price),e.total_price<=0&&x.removeClass("open")}},t.open("GET","/cart.js",!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send()}function p(t){w.removeChild(t)}function m(){if(x){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;t>600?(x.setAttribute("href","/checkout"),x.removeClass("cart-ico")):(x.setAttribute("href","/cart"),x.addClass("cart-ico"))}}var f,y,h,v,q,g={},w=document.querySelector("#quick-cart"),x=document.querySelector("#quick-cart-pay"),k=document.querySelector("#quick-cart-price"),C=document.querySelector('[quickbeam="add-to-cart"]'),T=document.querySelector('[quickbeam="image"]'),b=document.querySelector('[quickbeam="price"]'),S="#000";return function(){function a(t){t.preventDefault(),this.blur(),x.classList.contains("open")||x.addClass("open"),h=parseInt(document.querySelector(".quantity-selector").value),n(),o(),T&&(T.addClass("animate"),window.setTimeout(function(){T.classList.remove("animate")},400))}if(window.onresize=function(t){m()},m(),x.length>0)return!1;if("gsap"===e.animationLib&&t("https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"),b&&(b=b.innerHTML),T&&(y=T.getAttribute("src"),!y)){var r=/url\(\s*(['"]?)(.*?)\1\s*\)/i;y=T.getAttribute("style").match(r)[2]}[].forEach.call(document.querySelectorAll(".quickbeam-variant"),function(t){t.checked&&(f=parseInt(t.getAttribute("quickbeam-value")))});var i={".quick-cart-product-remove":function(t){var e=t.data("id"),n=t.parentNode,a=n.querySelector(".count"),r=parseInt(a.innerText),i=n.querySelector("div");if(!n||!w)return!1;if(r--,0>=r)n.addClass("remove-product"),window.setTimeout(function(){n.classList.remove("remove-product"),p(n)},1e3);else{a.innerText=r;var o=i.cloneNode(!0);o.classList.add("animateOut"),i.parentNode.appendChild(o),window.setTimeout(function(){o.parentNode.removeChild(o)},1e3),1>=r&&a.addClass("hide")}v==e?q++:(v=e,q=1),3==q&&r>1&&n.addClass("show-remove-all"),d({quantity:r,id:e})},".quick-cart-product-removeall":function(t){var e=t.data("id"),n=t.parentNode;return n&&w?(n.addClass("remove-product"),window.setTimeout(function(){p(product_box)},200),void d({quantity:0,id:e})):!1}};return w.addEventListener("click",function(t){for(var e in i)i.hasOwnProperty(e)&&t.target&&t.target.matches(e)&&i[e].apply(null,[t.target])}),C&&C.addEventListener("click",a,!1),!1}(),g}document.querySelector||(document.querySelector=function(t){var e=document.documentElement.firstChild,n=document.createElement("STYLE");e.appendChild(n),document.__qsResult=[],n.styleSheet.cssText=t+"{x:expression(document.__qsResult.push(this))}",window.scrollBy(0,0),e.removeChild(n);var a=[];for(var r in document.__qsResult)a.push(document.__qsResult[r]);return a}),Element.prototype.hasClass=function(t){return new RegExp(" "+t+" ").test(" "+this.className+" ")},Element.prototype.addClass=function(t){return this.hasClass(t)||(this.className+=" "+t),this},Element.prototype.removeClass=function(t){var e=" "+this.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(t)){for(;e.indexOf(" "+t+" ")>=0;)e=e.replace(" "+t+" "," ");this.className=e.replace(/^\s+|\s+$/g," ")}return this},Element.prototype.toggleClass=function(t){var e=" "+this.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(t)){for(;e.indexOf(" "+t+" ")>=0;)e=e.replace(" "+t+" "," ");this.className=e.replace(/^\s+|\s+$/g," ")}else this.className+=" "+t;return this},Element.prototype.data=function(t,e){return"undefined"==typeof e?this.getAttribute("data-"+t):(this.setAttribute("data-"+t,e),this)};var n;return{init:function(t){return n||(n=e(t)),n}}}();